{% extends 'base.html' %}

{% block head %}
<title>Poker</title>
{% endblock %}

{% block body %}
    <h1 align="center" class="neon-heading first">Welcome!</h1>
    <h1 align="center" class="neon-heading second"><span class="flickering-5">T</span>o T<span class="flickering-1">h</span>e <span class="flickering-2">W</span>or<span class="flickering-3">l</span>d O<span class="flickering-4">f</span> P<span class="flickering-5">o</span><span class="flickering-6">k</span>e<span class="flickering-7">r</span></h1>
    
<!--------------------------------------TABLE FOR CARDS------------------------------------------>

<table align="center">
        <tr>
            <td>
                <div class="flip-box">
                    <div class="flip-box-inner">
                        <div clas="flip-box-front">
                            <img src="/static/images/cover.png" id="1" class="card_images">
                        </div>
                    </div>
                </div><br>
            </td>
            <td>
                <div class="flip-box">
                    <div class="flip-box-inner">
                        <div clas="flip-box-front">
                            <img src="/static/images/cover.png" id="2" class="card_images">
                        </div>
                    </div>
                </div><br>
            </td>
            <td>
                <div class="flip-box">
                    <div class="flip-box-inner">
                        <div clas="flip-box-front">
                            <img src="/static/images/cover.png" id="3" class="card_images">
                        </div>
                    </div>
                </div><br>
           </td>
            <td>
                <div class="flip-box">
                    <div class="flip-box-inner">
                        <div clas="flip-box-front">
                            <img src="/static/images/cover.png" id="4" class="card_images">
                        </div>
                    </div>
                </div><br>
            </td>
            <td>
                <div class="flip-box">
                    <div class="flip-box-inner">
                        <div clas="flip-box-front">
                            <img src="/static/images/cover.png" id="5" class="card_images">
                        </div>
                    </div>
                </div><br>
            </td>
        </tr>
        <tr>
                <td><img src="/static/images/{{ hand2[0] }}" class="card_images" ></td>
                <td><img src="/static/images/{{ hand2[1] }}" class="card_images"></td>
                <td><img src="/static/images/{{ hand2[2] }}" class="card_images"></td>
                <td><img src="/static/images/{{ hand2[3] }}" class="card_images"></td>
                <td><img src="/static/images/{{ hand2[4] }}" class="card_images"></td>
        </tr>
    </table>

<!------------------------------------------BUTTONS------------------------------------------------------>
    <div align="center">
        <br><button type="button" id="show_button" data-toggle="modal" data-target="#myModal">SHOW</button>
        
        <a href="{{ url_for('shuffleCards') }}"><button id="shuffle_button">SHUFFLE</button></a>
    </div>


<br>
    <table id="scoreCard" align="center" style=" visibility:hidden; color:white;background-color: green;font-size: 30px;" cellpadding = 2>
        <tr>
            <th>Username </th>
            <th>Name </th>
            <th>Score </th>
        </tr>
        {% for x in users %}
        <tr>
            <td>{{ x.username }}</td>
            <td>{{ x.name }}</td>
            <td>{{ x.score }}</td>
        </tr>   
        {% endfor %}
    </table>

<!----------------------------------BOOTSTRAP OF POP UP WINDOW------------------------------------------->
        <div class="modal fade" id="myModal" role="dialog">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h3 class="modal-title">Result</h3>
              </div>
              <div class="modal-body">
                <p style="color:blue;font-size: 20px;"><b>{{ str }}</b></p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div>
    </div>
<!--------------------------------------JAVASCRIPT------------------------------------------>
    <script>
        $(document).ready(function ()
        {
            $("#show_button").click(function (){
                $(".flip-box").css("transform","rotateY("+180+"deg)");
                $(".flip-box-inner").css("transform","rotateY("+180+"deg)");
                setTimeout(show,80);
            });
        });
        function show()
        {
            $("#1").attr("src","/static/images/{{ hand1[0] }}");
            $("#2").attr("src","/static/images/{{ hand1[1] }}");
            $("#3").attr("src","/static/images/{{ hand1[2] }}");
            $("#4").attr("src","/static/images/{{ hand1[3] }}");
            $("#5").attr("src","/static/images/{{ hand1[4] }}")
            setTimeout(function(){
                var x = document.getElementById('scoreCard');
            x.style.visibility = "visible";
            },1000);
        }
        </script>
{% endblock %}
